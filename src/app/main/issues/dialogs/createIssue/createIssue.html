<md-dialog class="compose-dialog" aria-label="Update">
  <form class="md-inline-form">
    <md-toolbar class="md-accent md-hue-2">
      <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
        <span class="title">Add Issue</span>
        <md-button class="md-icon-button" ng-click="vm.closeDialog()" aria-label="Close dialog">
          <md-icon md-font-icon="icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>

    <md-dialog-content ms-scroll>
      <md-input-container class="md-block">
        <label>Title</label>
        <input ng-model="vm.form.title" type="text" required="">
        <div ng-messages="">
          <div ng-if="vm.error.title">
            Title is required
          </div>
        </div>
      </md-input-container>

      <md-autocomplete md-selected-item="vm.selectedItem"
        md-search-text="searchText"
        md-items="item in vm.getMatches(searchText)"
        md-item-text="item.display"
        md-min-length="0"
        md-floating-label="Responsible Party">
        <md-item-template> <span md-highlight-text="searchText">{{item.display}}</span>

        </md-item-template>
        <md-not-found>
          No Users found.
        </md-not-found>
      </md-autocomplete>

      <div ng-if="vm.error.selectedItem" style="color: red; padding-top: 5px;">
        Resident is required
      </div>

      <md-input-container class="md-block">
        <md-select ng-model="vm.form.resolutionTimeframe" placeholder="Time Frame" required="">
          <md-option value="Hours">Hours</md-option>
          <md-option value="Days">Days</md-option>
          <md-option value="Weeks">Weeks</md-option>
          <md-option value="Months">Months</md-option>
        </md-select>
        <div ng-messages="">
          <div ng-if="vm.error.resolutionTimeframe">
            Resolution Timeframe is required
          </div>
        </div>
      </md-input-container>

      <md-input-container class="md-block">
        <label>Description</label>
        <textarea ng-model="vm.form.description" type="text" required=""></textarea>
        <div ng-messages="">
          <div ng-if="vm.error.description">
            Description is required
          </div>
        </div>
      </md-input-container>

      <md-input-container class="md-block">
        <md-checkbox ng-model="vm.form.confidential" ng-disabled="vm.userid !== vm.selectedItem.value" aria-label="Confidential">
          Confidential
        </md-checkbox>
      </md-input-container>


    </md-dialog-content>

    <md-dialog-actions layout="row" layout-align="space-between center">
      <div layout="row" layout-align="start center">
        <md-button ng-click="vm.addIssue()" class="send-button md-accent md-raised" aria-label="Add">
          ADD ISSUE
        </md-button>
      </div>
    </md-dialog-actions>
  </form>
</md-dialog>
