<div id="mail" class="page-layout carded left-sidenav" layout="row">

  <!-- TOP BACKGROUND -->
  <div class="top-bg md-accent-bg"></div>
  <!-- / TOP BACKGROUND -->

  <!-- SIDENAV -->
  <md-sidenav class="sidenav" md-is-locked-open="$mdMedia('gt-md')" md-component-id="main-sidenav" ng-include="'app/main/residents/sidenavs/main/main-sidenav.html'" ms-scroll ms-sidenav-helper>
  </md-sidenav>
  <!-- / SIDENAV -->

  <!-- CENTER -->
  <div class="center" layout="column" flex>

    <!-- CONTENT HEADER -->
    <div class="header" layout="row" layout-align="start center">

      <div class="search-wrapper md-whiteframe-4dp" layout="row" layout-align="start center" flex>

        <div class="search" flex layout="row" layout-align="start center">
          <md-icon md-font-icon="icon-magnify" class="icon s24"></md-icon>
          <input flex ng-model="vm.search" ng-keyup="$event.keyCode == 13 && vm.searchResidents()" ng-change="vm.clearSearch()" type="text" placeholder="Press enter to search for residents">
        </div>
      </div>

    </div>
    <!-- / CONTENT HEADER -->

    <!-- CONTENT CARD -->
    <div class="content-card" layout="column" flex>

      <!-- CONTENT TOOLBAR -->
      <div class="toolbar" layout="row" layout-align="space-between center" ng-if="vm.activeMailPaneIndex === 0">

        <div layout="row" layout-align="start center">
            <md-menu class="settings-menu">
              <md-button class="md-icon-button"
                        ng-click="$mdOpenMenu($event)">
                        <md-tooltip>
                            Users Building Status
                          </md-tooltip>
                  <md-icon md-font-icon="icon-account-multiple"></md-icon>
              </md-button>
              <md-menu-content width="3">
                   <md-menu-item>
                      <md-button ng-click="vm.filterByStatus('all')">
                          <span>All</span>
                      </md-button>
                  </md-menu-item>
                  <md-menu-item>
                      <md-button ng-click="vm.filterByStatus('active')">
                          <span>Active</span>
                      </md-button>
                  </md-menu-item>
                  <md-menu-item>
                      <md-button ng-click="vm.filterByStatus('inactive')">
                          <span>Inactive</span>
                      </md-button>
                  </md-menu-item>
              </md-menu-content>
          </md-menu>
        </div>

        <div layout="row" layout-align="start center" translate-attr-aria-label="MAIL.REFRESH">

          <!-- SETTINGS MENU -->
          <md-button class="md-icon-button"
                     ng-click="vm.exportCensus()">
                     <md-tooltip>
                      Census
                    </md-tooltip>
              <md-icon md-font-icon="icon-format-list-numbers"></md-icon>
          </md-button>
          <md-button class="md-icon-button"
                     ng-click="vm.exportBlankPlan()">
                     <md-tooltip>
                      Blank Care Plan
                    </md-tooltip>
              <md-icon md-font-icon="icon-document"></md-icon>
          </md-button>
        <md-menu class="settings-menu">
            <md-button class="md-icon-button"
                       ng-click="$mdOpenMenu($event)">
                       <md-tooltip>
                          Exports
                        </md-tooltip>
                <md-icon md-font-icon="icon-export"></md-icon>
            </md-button>
            <md-menu-content width="3">
                <md-menu-item>
                    <md-button ng-click="vm.exportCarePlan()">
                        <span>Care Plan</span>
                    </md-button>
                </md-menu-item>
                <md-menu-item>
                    <md-button ng-click="vm.exportResidentFaceSheet()">
                        <span>Face Sheet</span>
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
        <!-- / SETTINGS MENU -->
        </div>
      </div>
      <!-- / CONTENT TOOLBAR -->

      <!-- CONTENT WRAPPER -->
      <div class="content-wrapper" layout="row" flex>

        <md-tabs md-selected="vm.activeMailPaneIndex" class="mail-tabs" md-dynamic-height="{{vm.dynamicHeight}}" flex>
          <md-tab>
            <md-tab-label>Residents</md-tab-label>
            <md-tab-body>
              <!-- RESIDENT LIST PANE -->
              <div scrolly="vm.showMore()" class="content mail-list-pane" ng-include="'app/main/residents/views/list/list-view.html'" ms-scroll>
              </div>
              <!-- / RESIDENT LIST PANE -->
            </md-tab-body>
          </md-tab>



          <md-tab>
            <md-tab-label>Details Pane</md-tab-label>
            <md-tab-body>


              <!-- RESIDENT DETAILS PANE -->
              <div ng-switch on="vm.selectedCategory">

                <div ng-switch-when="Administrative">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/administartive.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Allergy">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/allergy.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Assistance">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/assistance.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Bathing">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/bathing.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Incontinent">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/incontinent.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Life">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/life.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Mobility">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/mobility.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Nutrition">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/nutrition.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Pain">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/pain.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Physical condition">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/physicalcondition.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Psychosocial">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/psychosocial.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Sleep">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/sleep.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Vitals">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/vitals.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Contacts">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/contacts.html'" ms-scroll>
                  </div>
                </div>

                <div ng-switch-when="Updates">
                  <div class="content mail-read-pane" ng-include="'app/main/residents/views/details/updates.html'" ms-scroll>
                  </div>
                </div>

              </div>
              <!-- / RESIDENT DETAILS PANE -->
            </md-tab-body>
          </md-tab>
        </md-tabs>

      </div>
      <!-- / CONTENT WRAPPER -->

    </div>
    <!-- / CONTENT CARD -->

  </div>
  <!-- / CENTER -->

</div>
